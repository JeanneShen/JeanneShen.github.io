<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/stich-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/picaso-16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="介绍 问题建模  a. 理解问题：定义场景, 找出信息，确定关系  b.   建立模型 ：现实世界 – 概念模型 – 物理模型 – sql语言 – 数据库   定义  a. Base de données rationnelles : 确定问题，提出可能的solution，系统建模，实施solution，测试提出的solution，维护和评测系统  b. Système de gestion de">
<meta property="og:type" content="article">
<meta property="og:title" content="SQL">
<meta property="og:url" content="http://example.com/2023/02/19/QCM/2023-02-20-sql/index.html">
<meta property="og:site_name" content="Day Day Up">
<meta property="og:description" content="介绍 问题建模  a. 理解问题：定义场景, 找出信息，确定关系  b.   建立模型 ：现实世界 – 概念模型 – 物理模型 – sql语言 – 数据库   定义  a. Base de données rationnelles : 确定问题，提出可能的solution，系统建模，实施solution，测试提出的solution，维护和评测系统  b. Système de gestion de">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.postimg.cc/15gr821c/image.png">
<meta property="og:image" content="https://i.postimg.cc/tJdZ63Db/image.png">
<meta property="og:image" content="https://i.postimg.cc/C17pfdDt/image.png">
<meta property="og:image" content="https://i.postimg.cc/fyPFxdbH/image.png">
<meta property="og:image" content="https://i.postimg.cc/x1DpnnNb/image.png">
<meta property="article:published_time" content="2023-02-19T22:13:06.288Z">
<meta property="article:modified_time" content="2023-02-21T00:29:59.561Z">
<meta property="article:author" content="安然">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.postimg.cc/15gr821c/image.png">

<link rel="canonical" href="http://example.com/2023/02/19/QCM/2023-02-20-sql/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>SQL | Day Day Up</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Day Day Up</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="calendar fa-fw"></i>日程表</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/02/19/QCM/2023-02-20-sql/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="安然">
      <meta itemprop="description" content="随手写点什么">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Day Day Up">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          SQL
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-02-19 23:13:06" itemprop="dateCreated datePublished" datetime="2023-02-19T23:13:06+01:00">2023-02-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-02-21 01:29:59" itemprop="dateModified" datetime="2023-02-21T01:29:59+01:00">2023-02-21</time>
              </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><ol>
<li>问题建模<br>  a. 理解问题：定义场景, 找出信息，确定关系<br>  b.   建立模型 ：现实世界 – 概念模型 – 物理模型 – sql语言 – 数据库<br>  <a target="_blank" rel="noopener" href="https://postimg.cc/hfBdwCjf"><img src="https://i.postimg.cc/15gr821c/image.png" alt="image.png"></a></li>
<li>定义<br>  a. Base de données rationnelles : 确定问题，提出可能的solution，系统建模，实施solution，测试提出的solution，维护和评测系统<br>  b. Système de gestion de bases de données (SGBD) : 描述BD的结构，处理数据，使用数据，确保数据的完整性和安全性，优化数据访问</li>
</ol>
<h1 id="数据的概念模型"><a href="#数据的概念模型" class="headerlink" title="数据的概念模型"></a>数据的概念模型</h1><h2 id="Modele-Entites-Association"><a href="#Modele-Entites-Association" class="headerlink" title="Modèle Entités-Association"></a>Modèle Entités-Association</h2><ul>
<li>组成：objet &lt;&#x3D;&gt; entité; lien &lt;&#x3D;&gt; association; propriété &lt;&#x3D;&gt; attribut<ol>
<li>Entités: 其属性不能简单地随时间变化，避免无用的属性<br>Occurence d’une propriété &#x3D; couple ( propriété, sa valeur )<br>Occurence d’une entité &#x3D; couple ( entité, Occurence des propriétés )<br>Population &#x3D; { Occurences de l’entité }</li>
<li>Association: entite之间的联系，无方向，只与entite相连<br>association之间不相连<br>entite之间不能直接相连</li>
<li>Cardinalites: 可能的取值 0:1, 0:n, 1:1, 1:n. 表示entite中的一个occurence可以在association之中出现多少次。</li>
<li>Identifiants: Entite中每个occurence独自拥有的性质，可由多列组成。entite都必须有一个Identifiant。association的id由所连接的entite的id组成，不用再特意表示出来。<blockquote>
<p>为了避免 “一个人和一种东西只能在购买中出现一次” 的问题，可以将购买从association变成entite.<br><a target="_blank" rel="noopener" href="https://postimg.cc/Wq31LJQY"><img src="https://i.postimg.cc/tJdZ63Db/image.png" alt="image.png"></a></p>
</blockquote>
</li>
</ol>
</li>
</ul>
<h2 id="数据的关系模型、物理模型"><a href="#数据的关系模型、物理模型" class="headerlink" title="数据的关系模型、物理模型"></a>数据的关系模型、物理模型</h2><h3 id="性质："><a href="#性质：" class="headerlink" title="性质："></a>性质：</h3><ol>
<li>Atomicite 原子性: 交易完全会根本没有</li>
<li>Coherence 一致性: BD从一个有效状态变为另一个有效状态</li>
<li>Isolation 绝缘性:  交易就像单独进行一样</li>
<li>Durabilite 可持续性: 一旦确认，记录交易结果</li>
</ol>
<h3 id="Modele-Relationnel"><a href="#Modele-Relationnel" class="headerlink" title="Modele Relationnel"></a>Modele Relationnel</h3><ol>
<li>一个Attribut是一个信息；attribut的Domaine de Valeurs是其能取的值组成的有穷或无穷的集合。一个Relation是attribut的非空集合。<br><a target="_blank" rel="noopener" href="https://postimg.cc/dkhxbs5m"><img src="https://i.postimg.cc/C17pfdDt/image.png" alt="image.png"></a></li>
<li>一个tuple的某attribut未知，则记作NULL</li>
<li>用下划线标明identifiant的列名，可以是一列，也可以是多列。id的列不能有NULL的值。</li>
<li>Lien externe是连接两个relations的有向箭头。指向目标relation的identifiant。</li>
<li>完备性约束：tuple的值在值域中；标识符的唯一性；外部链接必须指向关键candidature,默认为标识符；<br><a target="_blank" rel="noopener" href="https://postimg.cc/LgzNSnLf"><img src="https://i.postimg.cc/fyPFxdbH/image.png" alt="image.png"></a></li>
</ol>
<h3 id="Modele-Physique"><a href="#Modele-Physique" class="headerlink" title="Modele Physique"></a>Modele Physique</h3><ul>
<li>Modele entite-association 转化为 物理模型 的方法：<ol>
<li>Entite: 所有的entite变成relation，它的propriete是relation的attributs， 他的identifiant也是relation的标识符。</li>
<li>二元association的cardinalite最大值为1时：Carnalite最大值不等1的entite的标识符被复制到基数最大值为1的entite中(aPourStatut); max都为1,选更有代表性的标识符复制(estEleve)。在两个relation之间创造外部链接，指向标识符被复制的relation。</li>
<li>其他的associations: 创建同名的relation，复制连接的entites的标识符为新relation的标识符，创建指向被复制标识符的relations的外部链接。</li>
<li>加上数据类型。<br><a target="_blank" rel="noopener" href="https://postimg.cc/nC2G18kH"><img src="https://i.postimg.cc/x1DpnnNb/image.png" alt="image.png"></a></li>
</ol>
</li>
</ul>
<h1 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h1><ul>
<li>常用词对照</li>
</ul>
<table>
<thead>
<tr>
<th>关系模型</th>
<th>SGBD</th>
</tr>
</thead>
<tbody><tr>
<td>Relation</td>
<td>Table</td>
</tr>
<tr>
<td>Attribut</td>
<td>Colone</td>
</tr>
<tr>
<td>Identifiant</td>
<td>Cle primaire</td>
</tr>
<tr>
<td>Lien externe</td>
<td>Cle etrangere</td>
</tr>
<tr>
<td>Tuple</td>
<td>Ligne</td>
</tr>
</tbody></table>
<h2 id="SELECT"><a href="#SELECT" class="headerlink" title="SELECT"></a>SELECT</h2><ul>
<li><code>SELECT liste_de_colonnes FROM table</code></li>
<li><code>SELECT liste_de_colonnes, &#39;valeur_fixes&#39; FROM table</code>  在选出的列表中的colones的同时，加上有valeur_fixes组成的列</li>
<li><code>SELECT DISTINCT liste_de_colonnes FROM table</code> 保证选出的行不重复</li>
<li><code>SELECT liste_de_colonnes FROM table WHERE Conditions</code> 选择符合Conditions的行<ol>
<li>可以比较一列和一个值，或者比较两列</li>
<li>操作符：&#x3D;, &lt;&gt;, &lt;, &gt;, &lt;&#x3D;, &gt;&#x3D;, AND, OR, NOT</li>
<li>Colone BETWEEN x AND y<br>  等价与：( Colonne &gt;&#x3D; x AND Colonne &lt;&#x3D; y )</li>
<li>Colone IN (v1,…,vn)<br>  等价与：( Colonne&#x3D;v1 OR … ORColonne&#x3D;vn )<br>  Colone NOT IN (v1,…,vn)</li>
</ol>
</li>
</ul>
<h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><p>用<strong>单引号</strong>表示，单引号之间的字符串的单引号，用双引号表示。</p>
<ol>
<li>% &#x3D; 所有字符串</li>
</ol>
<ul>
<li><code>A%</code> &#x3D; 以A开始的字符串</li>
<li><code>%N</code> &#x3D; 以N结束的字符串</li>
<li><code>A%T%N</code> &#x3D;以A开始，有一个T且以N结尾的字符串</li>
</ul>
<ol start="2">
<li>_ &#x3D; 所有字符</li>
</ol>
<ul>
<li><code>A_ION</code> &#x3D; A,然后一个任意字符，然够ION</li>
</ul>
<ol start="3">
<li><code>LIKE</code> : 比较两个字符串，区分大小写</li>
<li><code>ILIKE</code> : 比较两个字符串，不区分大小写</li>
</ol>
<h3 id="日期，时间和时间戳"><a href="#日期，时间和时间戳" class="headerlink" title="日期，时间和时间戳"></a>日期，时间和时间戳</h3><ol>
<li><p>DATE &#x3D; 日期，’AAAA-MM-DD‘</p>
<p>TIME &#x3D; 时间，’HH:MM:SS’</p>
<p>TIMESTAMP &#x3D; 日期+时间’AAAA-MM-DD HH:MM:SS’</p>
</li>
<li><p>经典比较操作（&gt;,&lt;,&#x3D;…）</p>
<ul>
<li><p>TO_DATE (unedata,format) : 将日期转换为指定格式</p>
</li>
<li><p>EXTRACT( unedonnée FROM unedate) : 从日期中选择想要的数据。CENTURY, DECADE; YEAR,MONTH,DAY(几号); DOW(周几); HOUR,MINUTE,SECOND; MICROSECONDS; TIMEZONE.</p>
</li>
<li><p>AddDate（）：增加一个日期（天、周等）</p>
</li>
<li><p>AddTime（）：增加一个是时间（时、分等）</p>
</li>
<li><p>Now（）：返回当前日期和时间</p>
</li>
<li><p>CurDate（）：返回当前日期</p>
</li>
<li><p>CurTime（）：返回当前时间</p>
</li>
<li><p>Date（）：返回日期时间的日期部分</p>
</li>
<li><p>DateDiff（）：计算两个日期之差</p>
</li>
<li><p>Date_Add（）：高度灵活的日期运算函数</p>
</li>
<li><p>Date_Format（）：返回一个格式化的日期或时间串</p>
</li>
<li><p>DOW（）：对于一个日期，返回对应的星期几</p>
</li>
<li><p>Time（）：返回一个日期时间的时间部分</p>
</li>
<li><p>Year（）：返回一个日期的年份部分</p>
</li>
<li><p>Month（）：返回一个日期的月份部分</p>
</li>
<li><p>Day（）：返回一个日期的天数部分</p>
</li>
<li><p>Hour（）：返回一个时间的小时部分</p>
</li>
<li><p>Minute（）：返回一个时间的分钟部分</p>
</li>
<li><p>Second（）：返回一个时间的秒数部分</p>
</li>
</ul>
</li>
</ol>
<h3 id="NULL"><a href="#NULL" class="headerlink" title="NULL"></a>NULL</h3><p>表示缺少信息</p>
<ul>
<li>Colone IS NULL</li>
<li>Colone IS NOT NULL</li>
</ul>
<h2 id="Jointures"><a href="#Jointures" class="headerlink" title="Jointures"></a>Jointures</h2><p>对两个表的行进行笛卡尔乘积</p>
<ol>
<li>SELECT liste_colonnes FROM liste_tables WHERE liste_contraintes<blockquote>
<p>SELECT * FROM Eleve, Membre WHERE Eleve_ID&#x3D;Membre_ID<br>SELECT * FROM Eleve INNER JOIN Membre ON (Eleve_ID&#x3D;Membre_ID)表示将Eleve和Membre两个table按照各自ID的对应关系join起来</p>
</blockquote>
</li>
<li><code>CROSS JOIN</code> 笛卡尔乘积<ul>
<li>[INNER] JOIN table ON (condition_jointure) : 按照ON的连接条件，join一个新的table.</li>
<li>table1 INNER JOIN table2 USING (une_colonne)</li>
<li>NATURAL JOIN : 当两表有相同列名时，按照同名列的相等join，否则进行笛卡尔乘积。</li>
<li>FULL | LEFT | RIGHT [OUTER] JOIN table ON (condition_jointure) : 全连接，左连接，右连接</li>
<li>FULL | LEFT | RIGHT NATURAL JOIN table</li>
</ul>
</li>
<li>区分两表的相同列名时，可在列名前加上前缀。<code>Eleve.Eleve_ID</code>, <code>Membre.Eleve_ID</code></li>
<li>在一个requete中多次使用一个table时，对表格进行重命名。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Club_Nom,Eleve_Resp.Eleve_Nom,Eleve_Tres.Eleve_Nom</span><br><span class="line"><span class="keyword">FROM</span> Club</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> Eleve Eleve_Resp <span class="keyword">ON</span> (Club_Resp<span class="operator">=</span>Eleve_Resp.Eleve_ID)</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> Eleve Eleve_Tres <span class="keyword">ON</span> (Club_Tres<span class="operator">=</span>Eleve_Tres.Eleve_ID)</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="集合操作"><a href="#集合操作" class="headerlink" title="集合操作"></a>集合操作</h2><ol>
<li>UNION : concat 两个表。</li>
<li>EXCEPT : 删除第一个表中和第二个表相同的行。A&#x2F;B</li>
<li>INTERSECT : 取两表中相同的行。</li>
</ol>
<h2 id="嵌套查询"><a href="#嵌套查询" class="headerlink" title="嵌套查询"></a>嵌套查询</h2><ol>
<li>一个requete的结果可以在另一个requete中使用，只要使用<code>IN</code>.<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Club_Nom, Eleve.Eleve_ID</span><br><span class="line"><span class="keyword">FROM</span> Club <span class="keyword">INNER</span> <span class="keyword">JOIN</span> Eleve <span class="keyword">ON</span> (Club_Resp<span class="operator">=</span>Eleve.Eleve_ID)</span><br><span class="line"><span class="keyword">WHERE</span> Eleve.Personne_ID <span class="keyword">IN</span></span><br><span class="line">(<span class="keyword">SELECT</span> Personne_ID <span class="keyword">FROM</span> Personne <span class="keyword">WHERE</span> Personne_Nom <span class="keyword">LIKE</span> ’A<span class="operator">%</span>’)</span><br></pre></td></tr></table></figure></li>
<li><code>ANY</code>: 比较attribut的一个值和一个requete的所有结果。一次比较为真，则整个条件都为真。<code>ALL</code>: 所有比较都为真时，才为真。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Fourniture_Nom</span><br><span class="line"><span class="keyword">FROM</span> Fourniture</span><br><span class="line"><span class="keyword">WHERE</span> Fourniture_Prix <span class="operator">&lt;</span> <span class="keyword">ANY</span></span><br><span class="line"><span class="comment">-- WHERE Fourniture_Prix &lt; ALL</span></span><br><span class="line"><span class="comment">-- WHERE EXISTS</span></span><br><span class="line">(<span class="keyword">SELECT</span> Fourniture_Prix <span class="keyword">FROM</span> Fourniture <span class="keyword">WHERE</span> Fourniture_Type <span class="operator">=</span> ’BUREAU’)</span><br></pre></td></tr></table></figure></li>
<li><code>EXISTS</code>:当嵌套的requete有至少一个结果时 为真。</li>
</ol>
<h2 id="GROUP-BY"><a href="#GROUP-BY" class="headerlink" title="GROUP BY"></a>GROUP BY</h2><p>根据一列或多列的值，对表的行进行聚合。方便对行的子集合进行操作。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> informations <span class="keyword">FROM</span> liste_de_tables</span><br><span class="line"><span class="keyword">WHERE</span> conditions</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> critère</span><br></pre></td></tr></table></figure>
<p>对于行的子集合进行的操作：AVG(均值)、COUNT、MAX、MIN、SUM</p>
<h2 id="ORDER-BY"><a href="#ORDER-BY" class="headerlink" title="ORDER BY"></a>ORDER BY</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> informations <span class="keyword">FROM</span> liste_de_tables</span><br><span class="line"><span class="keyword">WHERE</span> conditions</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> list_colones <span class="keyword">ASC</span> <span class="comment">--DESC</span></span><br></pre></td></tr></table></figure>
<p>排序的参照critere可以是列名的列表，第一列相同的行在比较第二列……</p>
<ul>
<li>排序的规则：ASC, DESC, 默认升序asc排序。</li>
<li>几个函数：<ul>
<li><code>UPPER</code> : 将一个attribut或者valeur变成大写</li>
<li><code>LOWER</code> : 将一个attribut或者valeur变成小写</li>
<li><code>CAPS</code> : 将一个attribut或者valeur每个词的首字母变成大写</li>
<li><code>CONCAT</code> - &#96;||&#96;&#96; : concatenation</li>
<li><code>SUBSTRING</code> - <code>SUBSTR</code> : 提取子串</li>
<li><code>TRIM</code> : 删除字符串开头和结尾的空格。LTRIM，RTRIM</li>
</ul>
</li>
</ul>
<h2 id="类型转换CAST"><a href="#类型转换CAST" class="headerlink" title="类型转换CAST"></a>类型转换CAST</h2><p>将表达式转换成指定类型，注意这里的类型必须兼容。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Nom, <span class="built_in">CAST</span> ( DateNaissance <span class="keyword">AS</span> <span class="type">VARCHAR</span> ) <span class="keyword">FROM</span> Personne</span><br></pre></td></tr></table></figure>
<h2 id="INSERT"><a href="#INSERT" class="headerlink" title="INSERT"></a>INSERT</h2><p>添加，每次只做用在一个表上。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tab(attrib1, attrib2, ... attribn) <span class="keyword">VALUES</span></span><br><span class="line">(val1, val2, ... valn)</span><br><span class="line"><span class="comment">--2</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tab <span class="keyword">VALUES</span> (val1, val2, ... valn)</span><br><span class="line"><span class="comment">--3</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tab(attrib1, attrib2, ... attribn) <span class="keyword">VALUES</span></span><br><span class="line">(val11, val12, ... val1n) ,</span><br><span class="line">...</span><br><span class="line">(valm1, valm2, ... valmn)</span><br><span class="line"><span class="comment">--4</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tab(liste_attributs) <span class="keyword">SELECT</span> liste_attributs <span class="keyword">FROM</span> ..</span><br><span class="line"><span class="keyword">WHERE</span> critiers</span><br><span class="line"><span class="comment">--5</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tab(col1, col2, ... coln) <span class="keyword">VALUES</span> (val1, val2, ... valn)</span><br><span class="line">RETURNING uneColonne</span><br></pre></td></tr></table></figure>
<ol>
<li>Requete 中的attribut和valeur对应，未提到的attribut赋为默认值，无默认值则为NULL。当未遵守完整性约束，插入产生错误，则所有插入都不会进行。</li>
<li>方式二中，对table的所有attribut逐个赋值。</li>
<li>将val1,…valm 逐个插入，当一个出现错误，所有插入都不执行</li>
<li>select选出的所有行都被插入表中，select选出的列要匹配插入的格式。</li>
<li>可以使用RETURNING返回插入创造的一列的值。</li>
</ol>
<h2 id="UPDATE"><a href="#UPDATE" class="headerlink" title="UPDATE"></a>UPDATE</h2><p>更新，每次只做用在一个表上。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> tab <span class="keyword">SET</span> ListeAffectation [<span class="keyword">WHERE</span> ListeConditions]</span><br><span class="line"><span class="comment">--例子：Alexis DELILLE 不在club JdR，而在club Manga.</span></span><br><span class="line"><span class="keyword">UPDATE</span> Membre <span class="keyword">SET</span> Club_Nom<span class="operator">=</span>’Manga’</span><br><span class="line"><span class="keyword">WHERE</span> Personne_ID <span class="keyword">IN</span> (<span class="keyword">SELECT</span> Personne_ID <span class="keyword">FROM</span> Personne</span><br><span class="line">                        <span class="keyword">WHERE</span> Nom<span class="operator">=</span>’DELILLE’ <span class="keyword">AND</span> Prenom<span class="operator">=</span>’Alexis’)</span><br><span class="line"><span class="keyword">AND</span> Club_Nom <span class="operator">=</span> ’JdR’</span><br></pre></td></tr></table></figure>
<ol>
<li>每个符合条件的行都按照listeaffection进行更新。违反一个完整性约束，所有更新都不执行。</li>
</ol>
<h2 id="DELETE"><a href="#DELETE" class="headerlink" title="DELETE"></a>DELETE</h2><p>删除，每次只做用在一个表上。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> tab [<span class="keyword">WHERE</span> ListeConditions]</span><br><span class="line"><span class="comment">--例子：Alexis DELILLE 不是club JdR 成员。</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> Membre</span><br><span class="line"><span class="keyword">WHERE</span> Personne_ID <span class="keyword">IN</span> (<span class="keyword">SELECT</span> Personne_ID <span class="keyword">FROM</span> PERSONNE</span><br><span class="line">                      <span class="keyword">WHERE</span> Nom<span class="operator">=</span>’DELILLE’ <span class="keyword">AND</span> Prenom<span class="operator">=</span>’Alexis)</span><br><span class="line"><span class="keyword">AND</span> Club_Nom <span class="operator">=</span> ’JdR’</span><br></pre></td></tr></table></figure>
<ol>
<li>删除每个符合条件的行。违反完整性约束是，所有删除都不会执行。</li>
</ol>
<h2 id="Transcation"><a href="#Transcation" class="headerlink" title="Transcation"></a>Transcation</h2><p>当多人同时操作一个数据库，由于requete执行顺序，可能会引起错误。为确保一个人的代码快执行完后在进行另一个代码块，使用transcation</p>
<table>
<thead>
<tr>
<th>BEGIN；…; COMMIT；</th>
<th>BEGIN；…; ROLLBACK；</th>
</tr>
</thead>
<tbody><tr>
<td>执行requete并保存</td>
<td>执行requete并取消</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">BEGIN</span>;</span><br><span class="line"><span class="keyword">UPDATE</span> Personne <span class="keyword">SET</span> Nom<span class="operator">=</span>‘ALBAN’ <span class="keyword">WHERE</span> Prenom<span class="operator">=</span>‘Alexis’;</span><br><span class="line"><span class="keyword">UPDATE</span> Personne <span class="keyword">SET</span> Nom<span class="operator">=</span>‘DELILLE’ <span class="keyword">WHERE</span> Prenom<span class="operator">=</span>‘Roger’;</span><br><span class="line"><span class="keyword">COMMIT</span>;</span><br></pre></td></tr></table></figure>
<h2 id="CREATE"><a href="#CREATE" class="headerlink" title="CREATE"></a>CREATE</h2><p><code>CREATE DATABASE</code> : 创建数据库，定义处理器，编译方式<br><code>CREATE TABLE</code> : 创建表，定义表的schema：列、cle primaire，etrangere等</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> nom_table (</span><br><span class="line">nom_colonne type_colonne [Contraintes],</span><br><span class="line">...</span><br><span class="line">contraintes sur la <span class="keyword">table</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>不同SGBD的数据类型表示</th>
<th>PostgreSQL</th>
<th>MySQL</th>
</tr>
</thead>
<tbody><tr>
<td>整数</td>
<td>INTEGER</td>
<td>int</td>
</tr>
<tr>
<td>实数</td>
<td>NUMERIC</td>
<td>float</td>
</tr>
<tr>
<td>字符</td>
<td>CHARACTER</td>
<td>char</td>
</tr>
<tr>
<td>字符串</td>
<td>CHARACTER VARYING</td>
<td>varchar</td>
</tr>
<tr>
<td>文本</td>
<td>TEXT</td>
<td>text</td>
</tr>
<tr>
<td>日期</td>
<td>DATA</td>
<td>data</td>
</tr>
<tr>
<td>时间</td>
<td>TIME</td>
<td>time</td>
</tr>
<tr>
<td>时间戳</td>
<td>TIMESTAMP</td>
<td>timestamp</td>
</tr>
</tbody></table>
<ul>
<li><p>列的限制条件有：</p>
<ol>
<li><code>NOT NULL</code></li>
</ol>
<p>  该列中不能有NULL。当没有此限制。默认为NULL。<br>  当我们尝试在一个声明为NOT NULL的列添加NULL时会出错。</p>
<ol start="2">
<li><p><code>PRIMARY KEY</code></p>
<p><code>PRIMARY KEY (liste_de_colonnes)</code><br>有这个条件的列是主键（identifiant）。当主键有多列组成时，必须在表的最后声明（使用liste de colones) 。该条件在一个表中必须且只能出现一次。该条件与NOT NULL同时使用。</p>
</li>
<li><p><code>UNIQUE</code></p>
<p>UNIQUE (liste_de_colonnes) : 允许同时声明多列候选主键。</p>
</li>
</ol>
<p>  有这个条件的列，不能有重复的值，该列是一个候选键，但不是标识符。当唯一键由多列组成时，必须在表的最后声明。此条件与NOT NULL同时使用。一个表中可以有许多个唯一键，也可以没有。</p>
<ol start="4">
<li><p><code>REFERENCES</code> nom-table [(nom-col)] [action]<br><code>FOREIGN KEY</code> (liste_de_colonnes) <code>REFERENCES</code> nom-table[(Autre_liste_de_colonnes)] [action] : 用于声明外部链接</p>
<p>默认指向另一个表的主键，不是主键的话，也是唯一键。某列有盖条件时，那么该列的值取决于他们在参考列中的存在。如果参考多列免责应该在表的最后声明。参考的表必须已经存在。</p>
</li>
<li><p><code>CHECK (condition)</code></p>
<p>用于在插入或修改的情况下检查一列或一组列是否遵守预定义的约束。如果某列定义了该限制，则该条件只作用在该列。当在表的末尾定义该限制，该条件可以左右在任意一列或者整个表上。</p>
</li>
<li><p><code>DEFAULT</code></p>
<p>用于设定默认值。当一列在insertion时未被提及则取默认值。</p>
</li>
</ol>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Eleve (</span><br><span class="line">    id <span class="type">INTEGER</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    nom <span class="type">CHARACTER</span> <span class="type">VARYING</span>(<span class="number">120</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> inscription(</span><br><span class="line">    id <span class="type">INTEGER</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> REFERENCE Eleve,</span><br><span class="line">    Annee <span class="type">INTEGER</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id,Annee)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> InscriptionMatiere(</span><br><span class="line">    id <span class="type">INTEGER</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">REFERENCES</span> Eleve,</span><br><span class="line">    Annee <span class="type">INTEGER</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    Matiere <span class="type">CHARACTER</span> <span class="type">VARYING</span>(<span class="number">24</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id, Annee, Matiere)</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (id, Annee) <span class="keyword">REFERENCES</span> Inscription</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>CREATE VIEW</code> : 创建由select选出的数据的特殊vue</li>
</ul>
<h2 id="DROP"><a href="#DROP" class="headerlink" title="DROP"></a>DROP</h2><ul>
<li><code>DROP DATABASE</code> : 删除数据库，schema、数据等</li>
<li><code>DROP TABLE</code> : 删除表，schema、数据等<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> tab <span class="comment">-- 外部连接仍然有效</span></span><br></pre></td></tr></table></figure></li>
<li>DROP VIEW : 删除vue</li>
</ul>
<h2 id="ALTER"><a href="#ALTER" class="headerlink" title="ALTER"></a>ALTER</h2><ul>
<li><code>ALTER DATABASE</code>：修改数据库，处理器、名字等</li>
<li><code>ALTER  TABLE</code>：修改表，改变处理器、名字、列等</li>
<li><code>ALTER TABLE tab</code><ol>
<li><code>RENAME TO</code> nouveau-nom-table<br>更改表的名字</li>
<li><code>ADD COLUMN</code> nom-col type-col [contraintes]<br>添加列</li>
<li><code>MODIFY COLUMN</code> nom-col type-col [contraints]<br>更改列的名字、类型</li>
<li><code>DROP COLUMN</code> nom-col [CASCADE CONSTRAINTS]<br>删除某列</li>
<li><code>RENAME COLUMN</code> old-name TO new-name  将某列的名字改为</li>
</ol>
</li>
<li><code>ALTER  VIEW</code>：修改vue</li>
</ul>
<h2 id="完整性参照"><a href="#完整性参照" class="headerlink" title="完整性参照"></a>完整性参照</h2><ul>
<li>添加一行数据时：<ol>
<li>主键不能已经存在</li>
<li>唯一键的唯一性</li>
<li>有外部链接的列的值要在对应列中存在</li>
<li>（CHECK）的条件要满足</li>
</ol>
</li>
<li>更改一行数据时：<ol>
<li>主键与唯一键的唯一性</li>
<li>外部链接的列的值在参照列中存在。外键的目标列在被更改时，不能打断参考</li>
<li>check的限制要满足</li>
</ol>
</li>
<li>删除一列时：<ol>
<li>外键的目标列在被删除时，不能打断参考</li>
</ol>
</li>
</ul>
<h2 id="触发"><a href="#触发" class="headerlink" title="触发"></a>触发</h2><table>
<thead>
<tr>
<th>2种情况</th>
<th>4个动作</th>
</tr>
</thead>
<tbody><tr>
<td>ON UPDATE; ON DELETE</td>
<td>RESTRICT; CASCADE; SET DEFAULT; SET NULL</td>
</tr>
</tbody></table>
<p>当外键的目标收到莫命令时，也将该命令作用在外键的来源。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Eleve (</span><br><span class="line">    Eleve_ID <span class="type">INTEGER</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY</span> KEY</span><br><span class="line">    Personne_ID <span class="type">INTEGER</span> <span class="keyword">REFERENCES</span> Personne</span><br><span class="line">                        <span class="keyword">ON</span> <span class="keyword">UPDATE</span> CASCADE</span><br><span class="line">                        <span class="keyword">ON</span> <span class="keyword">DELETE</span> <span class="keyword">SET</span> <span class="keyword">NULL</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>Personne</th>
<th>Personne</th>
<th>Personne</th>
<th>Eleves</th>
<th>Eleves</th>
</tr>
</thead>
<tbody><tr>
<td>ID</td>
<td>Nom</td>
<td>Prenom</td>
<td>Num</td>
<td>ID</td>
</tr>
<tr>
<td>1</td>
<td>SHEN</td>
<td>Anran</td>
<td>1824</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>NI</td>
<td>LI</td>
<td>1924</td>
<td>2</td>
</tr>
</tbody></table>
<blockquote>
<p>因为不会Markdowm合并单元格，所以画了这个chun表格!!!</p>
</blockquote>
<ul>
<li>当我们想将personne中anran的id变为4，或者删除anran时，会破环eleve中1824向personne的1的外键。<ol>
<li>当有ON UPDATE CASCADE时，eleves的ID&#x3D;1也会被ID&#x3D;4替换。</li>
<li>当有ON DELETE SET NULL，eleve的ID&#x3D;1会变成NULL</li>
</ol>
</li>
</ul>
<h2 id="创建使用者"><a href="#创建使用者" class="headerlink" title="创建使用者"></a>创建使用者</h2><ul>
<li>CREATE ROLE un_utilisateur … &#x2F; DROP ROLE un_utilisateur</li>
<li>CREATE USER un_utilisateur … &#x2F; DROP USER un_utilisateur</li>
<li>使用者权限<ul>
<li>LOGIN &#x2F; NOLOGIN</li>
<li>SUPERUSER &#x2F; NOSUPERUSER</li>
<li>CREATEDB &#x2F; NOCREATEDB</li>
<li>VALID UNTIL ’date et heure</li>
<li>PASSWORD ‘mot de passe’<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> prweb <span class="keyword">WITH</span> LOGIN NOSUPERUSER CREATEDB PASSWORD</span><br><span class="line">’info2019prweb’;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>改变数据库创建者</li>
<li>ALTER DATABASE ma_base OWNER TO un_utilisateur</li>
<li>ALTER TABLE ma_table OWNER TO un_utilisateur</li>
<li>分配权限<ul>
<li>GRANT operation ON objet TO utilisateur [WITH GRANT OPTION]</li>
<li>权限有：SELECT，INSERT，UPDATE，DELETE，TRUNCATE (vider une table)<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> DATABASE personnel OWNER <span class="keyword">TO</span> persouser;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span> <span class="keyword">ON</span> <span class="keyword">ALL</span> TABLES <span class="keyword">TO</span> autreperso;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> PRIVILEGES <span class="keyword">ON</span> <span class="keyword">TABLE</span> personne <span class="keyword">TO</span> autreperso;</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> personne OWNER <span class="keyword">TO</span> altuser;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="导入csv文件"><a href="#导入csv文件" class="headerlink" title="导入csv文件"></a>导入csv文件</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">COPY</span> tab(liste_de_colonne)</span><br><span class="line"><span class="keyword">FROM</span> ‘chemin_acces_fichier’</span><br><span class="line">DELIMITER ‘délimiteur’ CSV;</span><br></pre></td></tr></table></figure>
<p>先创建表tab，在拥有权限的情况下，按照copy后面的格式从csv文件路径读入数据，delimiter定义分隔符。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> public.test(</span><br><span class="line">    id <span class="type">INTEGER</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    name <span class="type">CHARACTER</span> <span class="type">VARYING</span>(<span class="number">20</span>) <span class="keyword">COLLATE</span> pg_catalog.&quot;default&quot;,</span><br><span class="line">    val <span class="type">CHARACTER</span> <span class="type">VARYING</span>(<span class="number">20</span>)<span class="keyword">COLLATE</span> pg_catalog.&quot;default&quot;,</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> test_pkey <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">COPY</span> test(id, name, <span class="keyword">value</span>)</span><br><span class="line"><span class="keyword">FROM</span> ’chemin_absolu’ DELIMITER ’;’ CSV;</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

     
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>安然
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="http://example.com/2023/02/19/QCM/2023-02-20-sql/" title="SQL">http://example.com/2023/02/19/QCM/2023-02-20-sql/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2023/02/19/QCM/2023-02-20-uml/" rel="prev" title="UML">
      <i class="fa fa-chevron-left"></i> UML
    </a></div>
      <div class="post-nav-item">
    <a href="/2023/02/19/GPU/%E4%BB%A3%E7%A0%811/" rel="next" title="代码1">
      代码1 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.</span> <span class="nav-text">介绍</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%9A%84%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B"><span class="nav-number">2.</span> <span class="nav-text">数据的概念模型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Modele-Entites-Association"><span class="nav-number">2.1.</span> <span class="nav-text">Modèle Entités-Association</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%9A%84%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B%E3%80%81%E7%89%A9%E7%90%86%E6%A8%A1%E5%9E%8B"><span class="nav-number">2.2.</span> <span class="nav-text">数据的关系模型、物理模型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%A7%E8%B4%A8%EF%BC%9A"><span class="nav-number">2.2.1.</span> <span class="nav-text">性质：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Modele-Relationnel"><span class="nav-number">2.2.2.</span> <span class="nav-text">Modele Relationnel</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Modele-Physique"><span class="nav-number">2.2.3.</span> <span class="nav-text">Modele Physique</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SQL"><span class="nav-number">3.</span> <span class="nav-text">SQL</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#SELECT"><span class="nav-number">3.1.</span> <span class="nav-text">SELECT</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">3.1.1.</span> <span class="nav-text">字符串</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%A5%E6%9C%9F%EF%BC%8C%E6%97%B6%E9%97%B4%E5%92%8C%E6%97%B6%E9%97%B4%E6%88%B3"><span class="nav-number">3.1.2.</span> <span class="nav-text">日期，时间和时间戳</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NULL"><span class="nav-number">3.1.3.</span> <span class="nav-text">NULL</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Jointures"><span class="nav-number">3.2.</span> <span class="nav-text">Jointures</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C"><span class="nav-number">3.3.</span> <span class="nav-text">集合操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B5%8C%E5%A5%97%E6%9F%A5%E8%AF%A2"><span class="nav-number">3.4.</span> <span class="nav-text">嵌套查询</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#GROUP-BY"><span class="nav-number">3.5.</span> <span class="nav-text">GROUP BY</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ORDER-BY"><span class="nav-number">3.6.</span> <span class="nav-text">ORDER BY</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2CAST"><span class="nav-number">3.7.</span> <span class="nav-text">类型转换CAST</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#INSERT"><span class="nav-number">3.8.</span> <span class="nav-text">INSERT</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UPDATE"><span class="nav-number">3.9.</span> <span class="nav-text">UPDATE</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DELETE"><span class="nav-number">3.10.</span> <span class="nav-text">DELETE</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Transcation"><span class="nav-number">3.11.</span> <span class="nav-text">Transcation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CREATE"><span class="nav-number">3.12.</span> <span class="nav-text">CREATE</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DROP"><span class="nav-number">3.13.</span> <span class="nav-text">DROP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ALTER"><span class="nav-number">3.14.</span> <span class="nav-text">ALTER</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%8C%E6%95%B4%E6%80%A7%E5%8F%82%E7%85%A7"><span class="nav-number">3.15.</span> <span class="nav-text">完整性参照</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A6%E5%8F%91"><span class="nav-number">3.16.</span> <span class="nav-text">触发</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E4%BD%BF%E7%94%A8%E8%80%85"><span class="nav-number">3.17.</span> <span class="nav-text">创建使用者</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AF%BC%E5%85%A5csv%E6%96%87%E4%BB%B6"><span class="nav-number">3.18.</span> <span class="nav-text">导入csv文件</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="安然"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">安然</p>
  <div class="site-description" itemprop="description">随手写点什么</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">16</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/JeanneSHen" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;JeanneSHen" rel="noopener" target="_blank"><i class="github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:shenanran1114@gmail.com" title="E-Mail → mailto:shenanran1114@gmail.com" rel="noopener" target="_blank"><i class="envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; Wed Sep 21 2022 02:00:00 GMT+0200 (中欧夏令时间) – 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">安然</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <span id="busuanzi_container_site_pv">总访问量<span id="busuanzi_value_site_pv"></span>次</span>
    <span class="post-meta-divider">|</span>
    <span id="busuanzi_container_site_uv">总访客数<span id="busuanzi_value_site_uv"></span>人</span>
    <span class="post-meta-divider">|</span>
<!-- 不算子计数初始值纠正 -->
<script>
$(document).ready(function() {

    var int = setInterval(fixCount, 50);  // 50ms周期检测函数
    var countOffset = 20000;  // 初始化首次数据

    function fixCount() {            
       if (document.getElementById("busuanzi_container_site_pv").style.display != "none")
        {
            $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + countOffset); 
            clearInterval(int);
        }                  
        if ($("#busuanzi_container_site_pv").css("display") != "none")
        {
            $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + countOffset); // 加上初始数据 
            clearInterval(int); // 停止检测
        }  
    }
       	
});
</script> 


        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
